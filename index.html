<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×—×™×“×•×Ÿ ×™× ×ª×™×›×•×Ÿ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;700;900&display=swap');

        :root {
            --bg-color: #662515;
            --primary-color: #8b0000; /* Maroon/Dark Red */
            --secondary-color: #ffcc00; /* Cheese Yellow */
            --text-color: #333;
            --accent-green: #4caf50;
            --pixel-size: 4px;
        }

        body {
            font-family: 'Rubik', sans-serif;
            background-color: var(--bg-color);
            /* Delicate Checkered Background (Tablecloth style) */
            background-image: 
                linear-gradient(45deg, rgba(139, 0, 0, 0.03) 25%, transparent 25%), 
                linear-gradient(-45deg, rgba(139, 0, 0, 0.03) 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, rgba(139, 0, 0, 0.03) 75%), 
                linear-gradient(-45deg, transparent 75%, rgba(139, 0, 0, 0.03) 75%);
            background-size: 40px 40px;
            background-position: 0 0, 0 20px, 20px -20px, -20px 0px;
            
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Decorative Corners */
        .decoration {
            position: fixed;
            z-index: -1;
            opacity: 0.1;
            pointer-events: none;
        }
        .deco-top-right { top: -20px; right: -20px; width: 200px; height: 200px; transform: rotate(15deg); }
        .deco-bottom-left { bottom: -20px; left: -20px; width: 250px; height: 250px; transform: rotate(-15deg); }

        /* Pixel Art Styling Helper */
        .pixel-art {
            image-rendering: pixelated;
        }

        /* Layout */
        .game-container {
            width: 100%;
            max-width: 900px; /* Increased for side-by-side */
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 40px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            backdrop-filter: blur(5px);
            border: 2px solid rgba(139, 0, 0, 0.1);
        }

        h1 {
            font-weight: 900;
            color: var(--primary-color);
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
            font-size: 2.2rem;
            margin: 0;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1rem;
            color: #666;
            margin-top: 5px;
            font-weight: 500;
        }

        /* Main Content Wrapper for Side-by-Side */
        .content-wrapper {
            display: flex;
            flex-direction: row;
            align-items: flex-end; /* Align bottom so chef/oven sit on same "floor" as card */
            justify-content: center;
            gap: 40px;
            width: 100%;
            flex-wrap: wrap; /* Wrap on mobile */
        }

        /* The Scene: Chef and Oven */
        .scene {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 10px;
            height: 180px; /* Fixed height for consistency */
            position: relative;
            flex-shrink: 0;
            padding-bottom: 10px; /* Lift slightly */
        }

        .chef-container {
            position: relative;
            width: 110px;
            height: 150px;
            transition: transform 0.2s;
            z-index: 2; /* Chef in front */
        }

        .chef-container.jump {
            animation: jump-anim 0.5s ease-out;
        }

        @keyframes jump-anim {
            0% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
            100% { transform: translateY(0); }
        }

        .oven-container {
            width: 130px;
            height: 130px;
            z-index: 1;
        }

        /* SVG Pixel Art Simulations */
        svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(4px 4px 0px rgba(0,0,0,0.2));
        }

        /* Game Interactives Column */
        .game-column {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* Score Board (Pizzas) */
        .score-board {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 5px;
            min-height: 50px;
            background: #fff;
            border: 3px solid #333;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            border-radius: 12px;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .score-label {
            font-size: 0.85rem;
            font-weight: 700;
            color: #555;
            position: absolute;
            top: -12px;
            background: var(--secondary-color);
            padding: 2px 10px;
            border-radius: 10px;
            border: 2px solid #333;
        }

        .pizza-token {
            width: 28px;
            height: 28px;
            animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            filter: none; /* No shadow for small tokens */
        }

        @keyframes pop-in {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }

        /* Question Area */
        .question-card {
            background: white;
            border: 4px solid #333;
            border-radius: 16px;
            padding: 25px;
            width: 100%;
            box-sizing: border-box;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.15);
            text-align: center;
            position: relative;
        }

        /* Decorative "Tape" on card */
        .tape {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 30px;
            background-color: rgba(255, 235, 59, 0.5);
            border: 1px solid rgba(0,0,0,0.05);
            transform: translateX(-50%) rotate(-2deg);
            z-index: 10;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #222;
            line-height: 1.4;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .btn {
            background: #fff;
            border: 3px solid #333;
            padding: 12px 15px;
            font-family: 'Rubik', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.1s;
            position: relative;
            color: #444;
        }

        .btn:hover:not(:disabled) {
            background: #fff8e1;
            transform: translateY(-3px);
            box-shadow: 0 5px 0 #333;
            color: #000;
        }

        .btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: none;
        }

        .btn.correct {
            background-color: var(--accent-green);
            color: white;
            border-color: #2e7d32;
            box-shadow: none;
            transform: translateY(2px);
        }

        .btn.wrong {
            background-color: var(--primary-color);
            color: white;
            border-color: #5a0000;
            box-shadow: none;
            transform: translateY(2px);
        }

        .speech-bubble {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            background: white;
            border: 3px solid #333;
            padding: 8px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 900;
            white-space: nowrap;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
            z-index: 10;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .speech-bubble.show {
            transform: translateX(-50%) scale(1);
        }

        /* Result Screen */
        .result-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 100%;
        }
        
        .restart-btn {
            background: var(--secondary-color);
            margin-top: 20px;
            color: #333;
            font-size: 1.2rem;
            padding: 15px 30px;
        }

        /* Confetti Canvas */
        #confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .content-wrapper {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            .scene {
                height: 150px;
            }
            .chef-container {
                width: 90px;
                height: 120px;
            }
            .oven-container {
                width: 110px;
                height: 110px;
            }
            .question-card {
                padding: 20px 15px;
            }
        }

    </style>
</head>
<body>

<canvas id="confetti"></canvas>

<!-- Decorative Background Elements -->
<svg class="decoration deco-top-right" viewBox="0 0 100 100" fill="none" stroke="#8b0000" stroke-width="2">
    <path d="M50 0 C50 50 100 50 100 50 C100 50 50 50 50 100 C50 100 50 50 0 50 C0 50 50 50 50 0 Z" />
    <circle cx="20" cy="20" r="5" fill="#ffcc00" stroke="none"/>
    <circle cx="80" cy="80" r="8" fill="#4caf50" stroke="none"/>
</svg>

<svg class="decoration deco-bottom-left" viewBox="0 0 100 100" fill="none" stroke="#8b0000" stroke-width="2">
    <circle cx="50" cy="50" r="40" stroke-dasharray="5 5" />
    <path d="M50 10 L50 90 M10 50 L90 50" />
</svg>


<div class="game-container">
    <header>
        <h1>×—×™×“×•×Ÿ ×™× ×ª×™×›×•×Ÿ</h1>
        <div class="subtitle">×˜×¨×™×•×•×™×” × ×¤×•×œ×™×˜× ×™×ª ××§×•×¨×™×ª</div>
    </header>

    <div class="content-wrapper">
        
        <!-- Scene Side -->
        <div class="scene">
            <div class="oven-container">
                <!-- Pixel Art Oven SVG -->
                <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Legs -->
                    <rect x="6" y="24" width="4" height="6" fill="#444"/>
                    <rect x="22" y="24" width="4" height="6" fill="#444"/>
                    <!-- Dome -->
                    <path d="M4 14 C4 8 8 4 16 4 C24 4 28 8 28 14 V24 H4 V14 Z" fill="#333"/>
                    <!-- Chimney -->
                    <rect x="14" y="0" width="4" height="6" fill="#999"/>
                    <rect x="13" y="0" width="6" height="1" fill="#666"/>
                    <!-- Opening -->
                    <path d="M8 16 C8 12 10 10 16 10 C22 10 24 12 24 16 V22 H8 V16 Z" fill="#111"/>
                    <!-- Fire -->
                    <path d="M12 20 L13 17 L14 19 L15 16 L16 19 L17 16 L18 19 L19 17 L20 20" stroke="#FF5722" stroke-width="2" fill="none" class="fire-anim"/>
                    <!-- Floor -->
                    <rect x="8" y="22" width="16" height="2" fill="#AAA"/>
                    <!-- Bricks detail -->
                    <rect x="6" y="14" width="2" height="2" fill="#555"/>
                    <rect x="24" y="14" width="2" height="2" fill="#555"/>
                </svg>
            </div>

            <div class="chef-container" id="chef">
                <div class="speech-bubble" id="bubble">××•×œ×™×˜×• ×‘× ×”!</div>
                <!-- Pixel Art Chef SVG -->
                <svg viewBox="0 0 32 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Hair -->
                    <rect x="10" y="2" width="12" height="6" fill="#222"/>
                    <rect x="8" y="4" width="2" height="6" fill="#222"/>
                    <rect x="22" y="4" width="2" height="6" fill="#222"/>
                    <!-- Face -->
                    <rect x="10" y="8" width="12" height="10" fill="#F0C0A0"/>
                    <!-- Beard -->
                    <rect x="10" y="14" width="12" height="4" fill="#222"/>
                    <rect x="12" y="16" width="8" height="2" fill="#F0C0A0"/> <!-- Mouth area -->
                    <!-- Eyes -->
                    <rect x="12" y="10" width="2" height="2" fill="#000"/>
                    <rect x="18" y="10" width="2" height="2" fill="#000"/>
                    <!-- Body/Shirt -->
                    <rect x="8" y="18" width="16" height="14" fill="#FFF"/>
                    <!-- Arms -->
                    <rect x="4" y="18" width="4" height="10" fill="#F0C0A0"/>
                    <rect x="24" y="18" width="4" height="10" fill="#F0C0A0"/>
                    <!-- Gloves/Hands -->
                    <rect x="4" y="28" width="4" height="3" fill="#333"/>
                    <rect x="24" y="28" width="4" height="3" fill="#333"/>
                    <!-- Apron -->
                    <path d="M12 18 H20 V24 H22 V36 H10 V24 H12 V18 Z" fill="#800020"/>
                    <!-- Apron Pocket -->
                    <rect x="13" y="28" width="6" height="4" fill="#600010"/>
                    <!-- Legs -->
                    <rect x="11" y="36" width="4" height="8" fill="#333"/>
                    <rect x="17" y="36" width="4" height="8" fill="#333"/>
                </svg>
            </div>
        </div>

        <!-- Game/Questions Side -->
        <div class="game-column">
            
            <div class="score-board">
                <div class="score-label">××’×© ×”×¤×™×¦×•×ª</div>
                <div id="pizzas-container" style="display:flex; gap:4px; flex-wrap:wrap; justify-content:center; width:100%;">
                    <!-- Pizzas go here -->
                </div>
            </div>

            <div id="game-ui">
                <div class="question-card">
                    <div class="tape"></div>
                    <div class="question-text" id="question-text">×˜×•×¢×Ÿ ×©××œ×”...</div>
                    <div class="answers-grid" id="answers-container">
                        <!-- Buttons injected here -->
                    </div>
                </div>
            </div>

            <div id="result-ui" class="result-screen">
                <div class="question-card">
                    <h2>××©×—×§ × ×’××¨!</h2>
                    <p>×”×›× ×ª <span id="final-score" style="font-weight:bold; color:var(--primary-color);">0</span> ×¤×™×¦×•×ª ××•×©×œ××•×ª.</p>
                    <div id="rank-msg" style="margin: 15px 0; font-weight:bold; font-size:1.1rem;"></div>
                    <button class="btn restart-btn" onclick="restartGame()">×œ×”×ª×—×™×œ ××—×“×© ğŸ•</button>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    /* Game Data */
    const questions = [
        {
            q: "××”×• ×¡×•×’ ×”×§××— ×”× ×“×¨×© ×œ×¤×™×¦×” × ×¤×•×œ×™×˜× ×™×ª ×××™×ª×™×ª?",
            a: ["×§××— 00", "×§××— ×ª×•×¤×—", "×§××— ××œ×", "×§××— ×ª×™×¨×¡"],
            correct: 0
        },
        {
            q: "×›××” ×–××Ÿ ×‘×¢×¨×š ×œ×•×§×— ×œ××¤×•×ª ×¤×™×¦×” × ×¤×•×œ×™×˜× ×™×ª ×‘×˜××‘×•×Ÿ ×œ×•×”×˜?",
            a: ["60-90 ×©× ×™×•×ª", "5-7 ×“×§×•×ª", "15 ×“×§×•×ª", "×—×¦×™ ×©×¢×”"],
            correct: 0
        },
        {
            q: "××”× ××¨×›×™×‘×™ ×”×‘×¦×§ ×”×§×œ××¡×™ (×œ×¤×™ ××™×’×•×“ ×”-AVPN)?",
            a: ["××™×, ×§××—, ××œ×—, ×©××¨×™×", "×§××—, ×‘×™×¦×™×, ×—×œ×‘, ×©××Ÿ", "×§××—, ××™×, ×¡×•×›×¨, ×©××Ÿ ×–×™×ª", "×§××—, ×™×•×’×•×¨×˜, ×¡×•×“×” ×œ×©×ª×™×™×”"],
            correct: 0
        },
        {
            q: "××™×–×” ×¡×•×’ ×¢×’×‘× ×™×•×ª ×”×•× ×”××•××œ×¥ ×‘×™×•×ª×¨ ×œ×¨×•×˜×‘?",
            a: ["×¡×Ÿ ××¨×–× ×•", "×¢×’×‘× ×™×•×ª ×©×¨×™", "×¨×¡×§ ×¢×’×‘× ×™×•×ª ×¨×’×™×œ", "×¢×’×‘× ×™×•×ª ××™×•×‘×©×•×ª"],
            correct: 0
        },
        {
            q: "××” ×”×˜××¤×¨×˜×•×¨×” ×”××™×“×™××œ×™×ª ×‘×˜××‘×•×Ÿ ×œ××¤×™×™×ª ×”×¤×™×¦×”?",
            a: ["×›-485 ××¢×œ×•×ª ×¦×œ×–×™×•×¡", "200 ××¢×œ×•×ª ×¦×œ×–×™×•×¡", "1000 ××¢×œ×•×ª ×¦×œ×–×™×•×¡", "250 ××¢×œ×•×ª ×‘×˜×•×¨×‘×•"],
            correct: 0
        },
        {
            q: "×××™×–×• ×¢×™×¨ ×‘××™×˜×œ×™×” ××’×™×¢×” ×”×¤×™×¦×” ×”× ×¤×•×œ×™×˜× ×™×ª?",
            a: ["× ××¤×•×œ×™", "×¨×•××", "××™×œ×× ×•", "×¤×™×¨× ×¦×”"],
            correct: 0
        },
        {
            q: "××™×–×” ×¦××— ×ª×‘×œ×™×Ÿ ××•×¡×£ ×˜×¨×™ ×œ×¤×™×¦×” ××¨×’×¨×™×˜×”?",
            a: ["×‘×–×™×œ×™×§×•×", "××•×¨×’× ×•", "×¨×•×–××¨×™×Ÿ", "×¤×˜×¨×•×–×™×œ×™×”"],
            correct: 0
        },
        {
            q: "×œ××” ×©×•×œ×™ ×”×¤×™×¦×” (×”'×§×•×¨× ×™×¦'×•× ×”') ×ª×¤×•×—×™× ×•××•×•×¨×™×¨×™×™×?",
            a: ["×›×™ ×”××•×•×™×¨ × ×“×—×£ ×œ×©×•×œ×™×™× ×‘×¤×ª×™×—×”", "×›×™ ×©××™× ×©× ×™×•×ª×¨ ×©××¨×™×", "×›×™ ×××œ××™× ××•×ª× ×‘×’×‘×™× ×”", "×›×™ ××§×¤×œ×™× ××•×ª× ×¤×¢××™×™×"],
            correct: 0
        },
        {
            q: "××”× ×¦×‘×¢×™ ×“×’×œ ××™×˜×œ×™×” ×”××™×•×¦×’×™× ×‘×¤×™×¦×” ××¨×’×¨×™×˜×”?",
            a: ["××“×•×, ×œ×‘×Ÿ, ×™×¨×•×§", "××“×•×, ×¦×”×•×‘, ×›×—×•×œ", "×™×¨×•×§, ×œ×‘×Ÿ, ×›×ª×•×", "×©×—×•×¨, ××“×•×, ×¦×”×•×‘"],
            correct: 0
        },
        {
            q: "××™×š × ×§×¨× ×”×›×œ×™ ××™×ª×• ××›× ×™×¡×™× ××ª ×”×¤×™×¦×” ×œ×ª× ×•×¨?",
            a: ["××¨×“×” (Peel)", "××¨×™×ª", "×›×£ ×¢×¥", "××œ×§×—×™×™×"],
            correct: 0
        }
    ];

    /* Game State */
    let currentQuestion = 0;
    let score = 0;
    let isAnswering = false;

    /* DOM Elements */
    const questionText = document.getElementById('question-text');
    const answersContainer = document.getElementById('answers-container');
    const pizzasContainer = document.getElementById('pizzas-container');
    const chef = document.getElementById('chef');
    const bubble = document.getElementById('bubble');
    const gameUI = document.getElementById('game-ui');
    const resultUI = document.getElementById('result-ui');
    const finalScore = document.getElementById('final-score');
    const rankMsg = document.getElementById('rank-msg');

    /* SVG for Pizza Token */
    const pizzaSVG = `
    <svg class="pizza-token" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="16" cy="16" r="14" fill="#E6A15C" stroke="#B87333" stroke-width="2"/>
        <circle cx="16" cy="16" r="11" fill="#D32F2F"/>
        <circle cx="14" cy="14" r="2" fill="#FFF"/>
        <circle cx="20" cy="18" r="2.5" fill="#FFF"/>
        <circle cx="15" cy="22" r="2" fill="#FFF"/>
        <path d="M18 12 L20 10" stroke="#4CAF50" stroke-width="2"/>
        <path d="M12 18 L10 20" stroke="#4CAF50" stroke-width="2"/>
    </svg>`;

    /* Initialization */
    function initGame() {
        score = 0;
        currentQuestion = 0;
        pizzasContainer.innerHTML = '';
        gameUI.style.display = 'block';
        resultUI.style.display = 'none';
        
        // Shuffle questions
        questions.sort(() => Math.random() - 0.5);
        
        loadQuestion();
    }

    function loadQuestion() {
        isAnswering = false;
        const qData = questions[currentQuestion];
        questionText.textContent = qData.q;
        answersContainer.innerHTML = '';

        // Create buttons with indices
        let indices = qData.a.map((_, i) => i);
        // Shuffle answers visually but keep track of correct index
        indices.sort(() => Math.random() - 0.5);

        indices.forEach(index => {
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.textContent = qData.a[index];
            btn.onclick = () => checkAnswer(index, btn);
            answersContainer.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, btnElement) {
        if (isAnswering) return;
        isAnswering = true;

        const correctIndex = questions[currentQuestion].correct;
        const buttons = answersContainer.getElementsByClassName('btn');

        if (selectedIndex === correctIndex) {
            // Correct!
            btnElement.classList.add('correct');
            handleCorrect();
        } else {
            // Wrong!
            btnElement.classList.add('wrong');
            // Highlight the correct one
            for (let btn of buttons) {
                if (btn.textContent === questions[currentQuestion].a[correctIndex]) {
                    btn.classList.add('correct');
                }
            }
            showBubble("××•×™ ×œ×! ğŸ˜«");
        }

        setTimeout(nextQuestion, 1500);
    }

    function handleCorrect() {
        score++;
        
        // Add pizza graphic
        const div = document.createElement('div');
        div.innerHTML = pizzaSVG;
        pizzasContainer.appendChild(div.firstElementChild);

        // Animate Chef
        chef.classList.add('jump');
        
        // Random success message
        const messages = ["×‘×¨××‘×•!", "×××× ××™×”!", "×¤×¨×¤×§×˜×•!", "×“×œ×™×¦×™×•×–×•!", "××§×¡×œ× ×˜×”!"];
        showBubble(messages[Math.floor(Math.random() * messages.length)]);

        setTimeout(() => {
            chef.classList.remove('jump');
        }, 500);
    }

    function showBubble(text) {
        bubble.textContent = text;
        bubble.classList.add('show');
        setTimeout(() => {
            bubble.classList.remove('show');
        }, 1200);
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < questions.length) {
            loadQuestion();
        } else {
            endGame();
        }
    }

    function endGame() {
        gameUI.style.display = 'none';
        resultUI.style.display = 'flex';
        finalScore.textContent = score;
        
        let rank = "";
        if (score === questions.length) {
            rank = "ğŸ† ×¤×™×¦×™×•×œ×• ××•××—×”! (Pizzaiolo Verace)";
            fireConfetti();
        } else if (score > questions.length / 2) {
            rank = "ğŸ‘¨â€ğŸ³ ×©×£ ××ª×—×™×œ! ×‘×“×¨×š ×”× ×›×•× ×”.";
        } else {
            rank = "ğŸ¥£ ×©×•×œ×™×™×ª ××˜×‘×—. ×¦×¨×™×š ×œ×ª×¨×’×œ ×¢×•×“ ×§×¦×ª!";
        }
        rankMsg.textContent = rank;
    }

    function restartGame() {
        initGame();
    }

    /* Confetti Effect */
    function fireConfetti() {
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const pieces = [];
        const colors = ['#f44336', '#4CAF50', '#ffffff']; // Italy flag colors

        for (let i = 0; i < 150; i++) {
            pieces.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                w: Math.random() * 10 + 5,
                h: Math.random() * 6 + 4,
                color: colors[Math.floor(Math.random() * colors.length)],
                dy: Math.random() * 5 + 2,
                dx: Math.random() * 2 - 1
            });
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;
            pieces.forEach(p => {
                p.y += p.dy;
                p.x += p.dx;
                p.dx += Math.sin(p.y * 0.1) * 0.1; // Sways
                if (p.y < canvas.height) active = true;
                
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.fillRect(p.x, p.y, p.w, p.h);
            });

            if (active) requestAnimationFrame(draw);
        }
        draw();
    }

    // Start
    initGame();

</script>
</body>
</html>
